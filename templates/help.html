{% extends "base.html" %}

{% block title %}User Manual - Read-a-Thon System{% endblock %}

{% block content %}
<style>
    html {
        scroll-behavior: smooth;
    }
    .sticky-toc {
        position: sticky;
        top: 20px;
        max-height: calc(100vh - 40px);
        overflow-y: auto;
    }
    .toc-link {
        display: block;
        padding: 0.5rem 1rem;
        color: #495057;
        text-decoration: none;
        border-left: 3px solid transparent;
        transition: all 0.2s;
    }
    .toc-link:hover {
        color: #007bff;
        border-left-color: #007bff;
        background-color: #f8f9fa;
    }
    .toc-link.active {
        color: #007bff;
        border-left-color: #007bff;
        font-weight: 600;
    }
    .toc-section {
        font-size: 0.9rem;
    }
    /* Offset anchor targets for sticky navbar */
    .card[id] {
        scroll-margin-top: 70px;
    }
</style>

<div class="row">
    <div class="col-lg-3">
        <!-- Sticky Table of Contents -->
        <div class="sticky-toc">
            <div class="card">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="bi bi-list"></i> Table of Contents</h5>
                </div>
                <div class="card-body p-0">
                    <nav class="toc-section">
                        <a href="#readathon-data" class="toc-link">About ReadAThon.com Data</a>
                        <a href="#quick-start" class="toc-link">Quick Start Guide</a>
                        <a href="#data-persistence" class="toc-link">Data Persistence</a>
                        <a href="#prod-vs-sample" class="toc-link">Production vs Sample Data</a>
                        <a href="#interface" class="toc-link"><strong>Interface</strong></a>
                        <a href="#school-tab" class="toc-link" style="padding-left: 2rem;">School Tab</a>
                        <a href="#teams-tab" class="toc-link" style="padding-left: 2rem;">Teams Tab</a>
                        <a href="#grade-tab" class="toc-link" style="padding-left: 2rem;">Grade Level Tab</a>
                        <a href="#students-tab" class="toc-link" style="padding-left: 2rem;">Students Tab</a>
                        <a href="#upload-tab" class="toc-link" style="padding-left: 2rem;">Upload Tab</a>
                        <a href="#reports-tab" class="toc-link" style="padding-left: 2rem;">Reports & Data Tab</a>
                        <a href="#workflows-tab" class="toc-link" style="padding-left: 2rem;">Workflows Tab</a>
                        <a href="#admin-tab" class="toc-link" style="padding-left: 2rem;">Admin Tab</a>
                        <a href="#help-tab" class="toc-link" style="padding-left: 2rem;">Help Tab</a>
                        <a href="#business-logic" class="toc-link">Business Logic & Rules</a>
                        <a href="#troubleshooting" class="toc-link">Troubleshooting</a>
                        <a href="#tips-tricks" class="toc-link">Tips & Tricks</a>
                    </nav>                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-9">
        <h1 class="mb-4">
            <i class="bi bi-book"></i> Read-a-Thon System - User Manual
        </h1>

        <!-- ReadAThon.com Data Source Notice -->
        <div class="card mb-4 border-warning" id="readathon-data">
            <div class="card-header bg-warning text-dark">
                <h4 class="mb-0"><i class="bi bi-info-circle"></i> About ReadAThon.com Data</h4>
            </div>
            <div class="card-body">
                <p class="lead"><strong>This application requires CSV data from <a href="https://www.read-a-thon.com/" target="_blank">ReadAThon.com</a></strong></p>

                <p>The Read-a-Thon System is designed to <strong>enhance and extend</strong> the data you download from the official ReadAThon.com platform. While ReadAThon.com manages pledges and online donations, this application adds:</p>

                <div class="row mt-3">
                    <div class="col-md-6">
                        <h6 class="text-primary"><i class="bi bi-trophy"></i> Additional Features</h6>
                        <ul>
                            <li>Team competition tracking and leaderboards</li>
                            <li>Daily reading minute caps (120 min/day max)</li>
                            <li>Participation rate calculations</li>
                            <li>Grade-level and class-level analytics</li>
                            <li>Custom reports and data exports</li>
                            <li>Multi-year database management</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6 class="text-success"><i class="bi bi-download"></i> How to Get Data</h6>
                        <ol>
                            <li>Log in to <a href="https://www.read-a-thon.com/" target="_blank">ReadAThon.com</a></li>
                            <li>Navigate to your school's dashboard</li>
                            <li>Download CSV exports (daily logs and cumulative stats)</li>
                            <li>Use the <strong>Upload</strong> tab to import into this app</li>
                        </ol>
                    </div>
                </div>

                <div class="alert alert-primary mt-3 mb-0">
                    <strong><i class="bi bi-arrow-right-circle"></i> Next Steps:</strong>
                    After installation, visit <a href="https://www.read-a-thon.com/" target="_blank" class="alert-link">ReadAThon.com</a> to download your school's data,
                    then use the <strong>Upload</strong> page to import it into the system.
                </div>

                <div class="alert alert-info mt-3 mb-0">
                    <strong><i class="bi bi-github"></i> Get the Application:</strong>
                    Download or clone from GitHub: <a href="https://github.com/stevensouza/readathon" target="_blank" class="alert-link">github.com/stevensouza/readathon</a>
                    <br>See the <a href="/help/installation" class="alert-link">Installation Guide</a> for complete setup instructions.
                </div>
            </div>
        </div>

        <!-- Quick Start -->
        <div class="card mb-4" id="quick-start">
            <div class="card-header card-header-blue">
                <h4 class="mb-0"><i class="bi bi-rocket"></i> Quick Start Guide</h4>
            </div>
            <div class="card-body">
                <h5>Daily Workflow (3 Simple Steps)</h5>
                <ol class="lead">
                    <li>Click <strong>"Upload"</strong> ‚Üí Select date ‚Üí Upload your CSV files</li>
                    <li>Click <strong>"Reports & Data"</strong> ‚Üí Select a report ‚Üí Click "Run Report"</li>
                    <li>Use <strong>"Copy to Clipboard"</strong> or <strong>"Export CSV"</strong> buttons</li>
                </ol>

                <h5 class="mt-4">Navigation Overview</h5>
                <p>The application has 6 main tabs:</p>
                <ul>
                    <li><strong>School:</strong> School-wide overview with team competition</li>
                    <li><strong>Teams:</strong> Head-to-head team comparison metrics</li>
                    <li><strong>Grade Level:</strong> Grade-by-grade and class-by-class breakdown</li>
                    <li><strong>Students:</strong> Individual student performance (master-detail view)</li>
                    <li><strong>Upload:</strong> Import daily reading and cumulative stats</li>
                    <li><strong>Reports & Data:</strong> 22 pre-configured reports, table views, and workflows</li>
                    <li><strong>Admin:</strong> Database management, creation, registry, and comparison tools</li>
                </ul>

                <div class="alert alert-info mt-3">
                    <strong><i class="bi bi-lightbulb"></i> Pro Tip:</strong> Use the <strong>environment selector</strong> in the top-right to switch between Production and Sample data!
                </div>
            </div>
        </div>

        <!-- Data Persistence -->
        <div class="card mb-4" id="data-persistence">
            <div class="card-header card-header-blue">
                <h4 class="mb-0"><i class="bi bi-database"></i> Data Persistence</h4>
            </div>
            <div class="card-body">
                <h5>Your Data is Safe!</h5>
                <p><strong>All data is permanently stored on your Mac's hard drive</strong> in SQLite database files:</p>
                <ul>
                    <li><code>readathon_prod.db</code> - Your real read-a-thon data</li>
                    <li><code>readathon_sample.db</code> - Sample test data</li>
                </ul>
                <p>The data is <strong>NOT</strong> stored in memory - it survives:</p>
                <ul>
                    <li>‚úÖ Stopping and restarting the application</li>
                    <li>‚úÖ Computer restarts</li>
                    <li>‚úÖ Power outages</li>
                    <li>‚úÖ Everything!</li>
                </ul>
                <div class="alert alert-success">
                    <strong>You can safely close the app at any time.</strong> Your data will still be there when you restart!
                </div>
            </div>
        </div>

        <!-- Environment Selector -->
        <div class="card mb-4" id="prod-vs-sample">
            <div class="card-header card-header-blue">
                <h4 class="mb-0"><i class="bi bi-toggle-on"></i> Production vs Sample Data</h4>
            </div>
            <div class="card-body">
                <h5>What's the Environment Selector?</h5>
                <p>The dropdown in the top-right corner lets you switch between two completely separate databases:</p>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card border-primary">
                            <div class="card-body">
                                <h6 class="card-title text-primary"><i class="bi bi-building"></i> Production</h6>
                                <ul class="small">
                                    <li>Your real read-a-thon data</li>
                                    <li>411 students pre-loaded</li>
                                    <li>All real daily uploads go here</li>
                                    <li>Use for actual reporting</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card border-secondary">
                            <div class="card-body">
                                <h6 class="card-title text-secondary"><i class="bi bi-flask"></i> Sample</h6>
                                <ul class="small">
                                    <li>Test data for practice</li>
                                    <li>Same student roster</li>
                                    <li>Safe to experiment</li>
                                    <li>Use for learning/testing</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="alert alert-warning mt-3">
                    <strong>Note:</strong> The two environments are completely separate. Data uploaded to Sample will NOT appear in Production!
                </div>
            </div>
        </div>

        <!-- Interface: All Application Tabs -->
        <div class="card mb-4" id="interface">
            <div class="card-header card-header-blue">
                <h4 class="mb-0"><i class="bi bi-grid-3x3"></i> Interface: All Application Tabs</h4>
            </div>
            <div class="card-body">
                <p class="lead">The application provides 9 main tabs for navigating different aspects of the read-a-thon. Each tab serves a specific purpose, from viewing school-wide metrics to managing databases.</p>

                <!-- School Tab -->
                <h5 id="school-tab" class="mt-4"><i class="bi bi-building"></i> School Tab</h5>
                <p><strong>Purpose:</strong> School-wide overview with at-a-glance metrics, team competition, and top performers.</p>

                <h6>Headline Banner (6 Metrics)</h6>
                <p>The dark blue banner at the top displays 6 key metrics in a horizontal row:</p>
                <div class="row">
                    <div class="col-md-6">
                        <ul class="small">
                            <li><strong>üìÖ Campaign Day:</strong> Current day of total days + date (does NOT honor date filter)</li>
                            <li><strong>üí∞ Fundraising:</strong> Total $ + student count + % (does NOT honor date filter)</li>
                            <li><strong>üìö Minutes Read:</strong> Hours + minutes (120/day cap, honors date filter, shows ‚óê icon when filtered)</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="small">
                            <li><strong>üéÅ Sponsors:</strong> Count + student count + % (does NOT honor date filter)</li>
                            <li><strong>üë• Avg. Participation (With Color):</strong> % + student count (honors date filter, can exceed 100%, shows ‚óê icon)</li>
                            <li><strong>üéØ Goal Met (‚â•1 Day):</strong> % + student count (honors date filter, shows ‚óê icon)</li>
                        </ul>
                    </div>
                </div>

                <h6>Date Filtering</h6>
                <p>Filter Period dropdown above banner allows filtering by:</p>
                <ul class="small">
                    <li><strong>"All Days":</strong> Cumulative data across entire read-a-thon</li>
                    <li><strong>Single Date:</strong> Cumulative data through specific date</li>
                    <li><strong>Relative Days:</strong> "Day 1", "Day 2", etc.</li>
                </ul>
                <p class="small">When date filter is active, the <strong>‚óê icon</strong> appears on metrics that honor the filter (Minutes, Avg. Participation, Goal Met). Hover over ‚óê to see tooltip: "Cumulative through [date]".</p>

                <h6>Additional Sections</h6>
                <ul class="small">
                    <li><strong>Team Competition:</strong> Head-to-head comparison cards for both teams</li>
                    <li><strong>Top Performers:</strong> Leading students and classes</li>
                    <li><strong>Participation Breakdown:</strong> Daily engagement trends</li>
                </ul>

                <!-- Teams Tab -->
                <h5 id="teams-tab" class="mt-4"><i class="bi bi-people"></i> Teams Tab</h5>
                <p><strong>Purpose:</strong> Detailed head-to-head team competition metrics and leaderboards.</p>
                <ul class="small">
                    <li><strong>4-column layout:</strong> 2 rows √ó 4 cards per team (8 cards total)</li>
                    <li><strong>Metrics per team:</strong> Fundraising leaders, top classes, reading leaders, participation</li>
                    <li><strong>Winner highlighting:</strong> Colored oval highlights around winning values</li>
                    <li><strong>Comparison table:</strong> Side-by-side metrics for both teams (sortable)</li>
                    <li><strong>Team badges:</strong> Rounded rectangles with team colors (blue/yellow)</li>
                </ul>

                <!-- Grade Level Tab -->
                <h5 id="grade-tab" class="mt-4"><i class="bi bi-mortarboard"></i> Grade Level Tab</h5>
                <p><strong>Purpose:</strong> Grade-by-grade and class-by-class performance breakdown.</p>
                <ul class="small">
                    <li><strong>Grade filter buttons:</strong> K, 1, 2, 3, 4, 5, or "All Grades"</li>
                    <li><strong>Grade-level cards:</strong> Total metrics per grade (6 cards, one per grade)</li>
                    <li><strong>Class detail table:</strong> All classes shown, sortable by any column</li>
                    <li><strong>Winner highlighting:</strong> Gold ovals for school-wide winners, silver for grade-level leaders</li>
                    <li><strong>Team badges:</strong> Shows which team each class belongs to</li>
                </ul>

                <!-- Students Tab -->
                <h5 id="students-tab" class="mt-4"><i class="bi bi-person"></i> Students Tab</h5>
                <p><strong>Purpose:</strong> Individual student performance with master-detail view.</p>
                <ul class="small">
                    <li><strong>Master table:</strong> All 411 students in sortable table</li>
                    <li><strong>Search functionality:</strong> Searches all columns (text and numeric)</li>
                    <li><strong>Filters:</strong> Grade, Team, Date range</li>
                    <li><strong>Columns:</strong> Name, Grade, Team, Class, Fundraising, Reading, Sponsors, Participation</li>
                    <li><strong>Winner highlighting:</strong> Gold for school-wide top performers, silver for grade-level leaders</li>
                    <li><strong>Detail view:</strong> Click any student to see daily reading log, goal achievement, sponsor info, totals</li>
                </ul>

                <!-- Upload Tab -->
                <h5 id="upload-tab" class="mt-4"><i class="bi bi-upload"></i> Upload Tab</h5>
                <p><strong>Purpose:</strong> Import daily reading data and cumulative stats from ReadAThon.com.</p>

                <h6>Two Upload Types</h6>
                <div class="row">
                    <div class="col-md-6">
                        <div class="card border-primary mb-2">
                            <div class="card-body p-2">
                                <p class="small mb-1"><strong>1. Daily Minutes Upload</strong></p>
                                <ul class="small mb-1">
                                    <li><strong>When:</strong> Every day after students read</li>
                                    <li><strong>File:</strong> CSV with Reader Name + Minutes</li>
                                    <li><strong>Updates:</strong> Daily_Logs table</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card border-success mb-2">
                            <div class="card-body p-2">
                                <p class="small mb-1"><strong>2. Cumulative Stats Upload</strong></p>
                                <ul class="small mb-1">
                                    <li><strong>When:</strong> When donations change</li>
                                    <li><strong>File:</strong> CSV with Reader Name + Donations + Sponsors</li>
                                    <li><strong>Updates:</strong> Reader_Cumulative table</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <p class="small"><strong>Process:</strong> Select date (for daily upload) ‚Üí Choose CSV file ‚Üí Click Upload button ‚Üí System validates names against roster and shows warnings for unrecognized students.</p>

                <!-- Reports & Data Tab -->
                <h5 id="reports-tab" class="mt-4"><i class="bi bi-graph-up"></i> Reports & Data Tab</h5>
                <p><strong>Purpose:</strong> Run 22 pre-configured reports, view database tables, and access workflows.</p>

                <h6>Three Accordion Sections</h6>
                <ul class="small">
                    <li><strong>Reports:</strong> 22 reports with enhanced metadata (Column Descriptions, Data Sources, Key Terms, Automated Analysis)</li>
                    <li><strong>Tables:</strong> View raw database tables (Roster, Daily Logs, Upload History, etc.) - all sortable with export</li>
                    <li><strong>Workflows:</strong> Run multiple reports in sequence (see Workflows Tab below)</li>
                </ul>

                <p class="small"><strong>Enhanced Metadata Features:</strong></p>
                <ul class="small">
                    <li><strong>Column Descriptions:</strong> Every column explained</li>
                    <li><strong>Data Sources:</strong> Shows which database tables power each metric</li>
                    <li><strong>Key Terms:</strong> Glossary of important definitions</li>
                    <li><strong>Automated Analysis:</strong> Click üîç Analysis button for data insights</li>
                </ul>

                <!-- Workflows Tab -->
                <h5 id="workflows-tab" class="mt-4"><i class="bi bi-diagram-3"></i> Workflows Tab</h5>
                <p><strong>Purpose:</strong> Run multiple reports in sequence for daily slideshow or final prizes.</p>

                <div class="row">
                    <div class="col-md-6">
                        <div class="card border-success mb-2">
                            <div class="card-body p-2">
                                <p class="small mb-1"><strong>QD: Daily Slide Update</strong></p>
                                <p class="small mb-1">Runs 5 reports for daily slideshow:</p>
                                <ul class="small mb-1">
                                    <li>Slide 2: Lead Class by Grade</li>
                                    <li>Slide 3: Team Participation</li>
                                    <li>Slide 4: Prize Drawing</li>
                                    <li>Slide 5: Team Minutes</li>
                                    <li>Slide 6: Team Donations</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="card border-info mb-2">
                            <div class="card-body p-2">
                                <p class="small mb-1"><strong>QC: Cumulative Workflow</strong></p>
                                <p class="small mb-1">Runs 6 cumulative prize reports:</p>
                                <ul class="small mb-1">
                                    <li>Q5: Student Cumulative</li>
                                    <li>Q6: Class Participation</li>
                                    <li>Q14: Team Participation</li>
                                    <li>Q18: Lead Class by Grade</li>
                                    <li>Q19: Team Minutes</li>
                                    <li>Q20: Team Donations</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admin Tab -->
                <h5 id="admin-tab" class="mt-4"><i class="bi bi-gear"></i> Admin Tab</h5>
                <p><strong>Purpose:</strong> Database management, creation, registry, and year-over-year comparison tools.</p>

                <h6>Five Sub-Tabs</h6>
                <div class="row">
                    <div class="col-md-6">
                        <ul class="small">
                            <li><strong>Tab 1: Actions</strong>
                                <ul class="small">
                                    <li>Selective table clearing (clear specific tables without affecting others)</li>
                                    <li>Upload history viewer</li>
                                    <li>Database integrity tools</li>
                                </ul>
                            </li>
                            <li><strong>Tab 2: Data Management</strong>
                                <ul class="small">
                                    <li>View and manage all database tables</li>
                                    <li>Export data to CSV</li>
                                    <li>View table statistics</li>
                                </ul>
                            </li>
                            <li><strong>Tab 3: Database Creation</strong>
                                <ul class="small">
                                    <li>Create new read-a-thon databases for future years</li>
                                    <li>Upload 3 CSV files: Roster, Class Info, Grade Rules</li>
                                    <li>Automatic database creation with data loading</li>
                                    <li>Auto-register in Database Registry</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <ul class="small">
                            <li><strong>Tab 4: Database Registry</strong>
                                <ul class="small">
                                    <li>View all registered databases (2025, 2026, Sample, etc.)</li>
                                    <li>Switch active database via dropdown selector</li>
                                    <li>View database metadata (year, description, statistics)</li>
                                    <li>Only ONE database active at a time</li>
                                </ul>
                            </li>
                            <li><strong>Tab 5: Database Comparison</strong>
                                <ul class="small">
                                    <li>Year-over-year analysis with 50 comprehensive metrics</li>
                                    <li>Compare any two databases side-by-side</li>
                                    <li>5 entity levels: School, Team, Grade, Class, Student</li>
                                    <li>Date filtering, sortable table, search box, entity filter</li>
                                    <li>Color-coded winners (blue/orange ovals)</li>
                                    <li>Export to CSV for further analysis</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Help Tab -->
                <h5 id="help-tab" class="mt-4"><i class="bi bi-question-circle"></i> Help Tab</h5>
                <p><strong>Purpose:</strong> Access comprehensive documentation and guides.</p>
                <ul class="small">
                    <li><strong>User Manual:</strong> This page - complete application documentation</li>
                    <li><strong>Installation Guide:</strong> Step-by-step setup instructions for new users</li>
                    <li><strong>Claude Code Development:</strong> Documentation for developers using Claude Code</li>
                    <li><strong>Requirements Document:</strong> Complete application requirements and specifications</li>
                </ul>

                <!-- Filter Persistence Notice -->
                <div class="alert alert-info mt-3">
                    <strong><i class="bi bi-info-circle"></i> Filter Persistence:</strong>
                    Date, team, and grade filters persist as you navigate between tabs - your selections are remembered via sessionStorage!
                </div>

                <!-- Data Integrity Notice -->
                <div class="alert alert-success mt-3 mb-0">
                    <strong><i class="bi bi-shield-check"></i> Data Integrity:</strong>
                    Always compare banner values with the <a href="https://ReadAThon.com" target="_blank" class="alert-link">ReadAThon.com</a> online system to ensure accuracy before generating reports!
                </div>
            </div>
        </div>

        <!-- Business Logic -->
        <div class="card mb-4" id="business-logic">
            <div class="card-header bg-dark text-white">
                <h4 class="mb-0"><i class="bi bi-calculator"></i> Business Logic & Rules</h4>
            </div>
            <div class="card-body">
                <h5>Key Definitions</h5>
                <dl class="row">
                    <dt class="col-sm-3">Participation</dt>
                    <dd class="col-sm-9">A student "participated" if they read more than 0 minutes that day</dd>

                    <dt class="col-sm-3">Meeting Goal</dt>
                    <dd class="col-sm-9">A student "met their goal" if they read at least their grade's minimum daily minutes</dd>

                    <dt class="col-sm-3">Credited Minutes</dt>
                    <dd class="col-sm-9">Maximum 120 minutes per day counts toward totals (actual minutes are still tracked separately)</dd>

                    <dt class="col-sm-3">Tie-Breaking</dt>
                    <dd class="col-sm-9">When multiple entities tie for first place, ALL tied winners are shown</dd>
                </dl>

                <h5 class="mt-3">Grade Level Minimums</h5>
                <table class="table table-sm">
                    <thead class="table-light">
                        <tr>
                            <th>Grade</th>
                            <th>Daily Minimum</th>
                            <th>Max Credited</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr><td>Kindergarten (K)</td><td>20 minutes</td><td>120 minutes</td></tr>
                        <tr><td>Grade 1</td><td>20 minutes</td><td>120 minutes</td></tr>
                        <tr><td>Grade 2</td><td>25 minutes</td><td>120 minutes</td></tr>
                        <tr><td>Grade 3</td><td>25 minutes</td><td>120 minutes</td></tr>
                        <tr><td>Grade 4</td><td>30 minutes</td><td>120 minutes</td></tr>
                        <tr><td>Grade 5</td><td>30 minutes</td><td>120 minutes</td></tr>
                    </tbody>
                </table>

                <h5 class="mt-3">Teams</h5>
                <div class="row">
                    <div class="col-md-6">
                        <h6>Team Kitsko</h6>
                        <ul class="small">
                            <li>10 classes (including Mrs. Brown AM kindergarten)</li>
                            <li>207 students</li>
                            <li>Grades K-5</li>
                        </ul>
                    </div>
                    <div class="col-md-6">
                        <h6>Team Staub</h6>
                        <ul class="small">
                            <li>9 classes (including Mrs. Brown PM kindergarten)</li>
                            <li>204 students</li>
                            <li>Grades K-5</li>
                        </ul>
                    </div>
                </div>

                <div class="alert alert-info mt-3">
                    <strong><i class="bi bi-info-circle"></i> Note:</strong> Mrs. Brown teaches 2 separate kindergarten classes (AM and PM sessions), which is why there are 19 total classes from 18 teachers.
                </div>
            </div>
        </div>

        <!-- Troubleshooting -->
        <div class="card mb-4" id="troubleshooting">
            <div class="card-header card-header-blue">
                <h4 class="mb-0"><i class="bi bi-exclamation-triangle"></i> Troubleshooting</h4>
            </div>
            <div class="card-body">
                <h5>Common Issues</h5>

                <div class="accordion" id="troubleshootingAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble1">
                                "Student not found in roster" warnings
                            </button>
                        </h2>
                        <div id="trouble1" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                            <div class="accordion-body">
                                <strong>Solution:</strong>
                                <ul>
                                    <li>Check that student names match exactly (case-sensitive)</li>
                                    <li>Verify CSV column names are correct</li>
                                    <li>Look for extra spaces in student names</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble2">
                                Report shows "No data available"
                            </button>
                        </h2>
                        <div id="trouble2" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                            <div class="accordion-body">
                                <strong>Solution:</strong>
                                <ul>
                                    <li>Make sure you've uploaded data first</li>
                                    <li>Check which environment you're in (Production vs Sample)</li>
                                    <li>Verify the date filter matches uploaded data</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble3">
                                How do I reset/clear data?
                            </button>
                        </h2>
                        <div id="trouble3" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                            <div class="accordion-body">
                                <strong>Solution:</strong>
                                <ol>
                                    <li>Stop the application (CTRL+C in Terminal)</li>
                                    <li>Delete the database file:
                                        <ul>
                                            <li><code>rm readathon_prod.db</code> for production</li>
                                            <li><code>rm readathon_sample.db</code> for sample</li>
                                        </ul>
                                    </li>
                                    <li>Run <code>python3 init_data.py</code> to recreate</li>
                                    <li>Restart the application</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item">
                        <h2 class="accordion-header">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble4">
                                Port 5000 is already in use
                            </button>
                        </h2>
                        <div id="trouble4" class="accordion-collapse collapse" data-bs-parent="#troubleshootingAccordion">
                            <div class="accordion-body">
                                <strong>Solution:</strong>
                                <ol>
                                    <li>Open <code>app.py</code> in a text editor</li>
                                    <li>Find line 197: <code>app.run(debug=True, host='127.0.0.1', port=5000)</code></li>
                                    <li>Change <code>port=5000</code> to <code>port=5001</code> (or another port)</li>
                                    <li>Save and restart the application</li>
                                    <li>Access at <code>http://localhost:5001</code></li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tips & Tricks -->
        <div class="card mb-4" id="tips-tricks">
            <div class="card-header card-header-blue">
                <h4 class="mb-0"><i class="bi bi-lightbulb"></i> Tips & Tricks</h4>
            </div>
            <div class="card-body">
                <ul>
                    <li><strong>Test in Sample:</strong> Try new features in Sample environment before using in Production</li>
                    <li><strong>Copy to Clipboard:</strong> Fastest way to get data into your slideshow - just paste!</li>
                    <li><strong>Export to CSV:</strong> Use this for Excel analysis or archiving</li>
                    <li><strong>Run Reports Multiple Times:</strong> Reports don't change your data - run them as often as you like</li>
                    <li><strong>Prize Drawing Randomness:</strong> Q4 picks different winners each time - run it until you're ready to announce</li>
                    <li><strong>Workflows Save Time:</strong> Use QD workflow every day instead of running 5 separate reports</li>
                    <li><strong>Database Comparison for Trends:</strong> Use Admin ‚Üí Database Comparison to track year-over-year growth across all 50 metrics</li>
                    <li><strong>Prepare for Next Year:</strong> Use Admin ‚Üí Database Creation to set up next year's database in advance</li>
                    <li><strong>Multi-Year Planning:</strong> Keep all your historical databases in the Database Registry for easy access to past years' data</li>
                </ul>
            </div>
        </div>

        <!-- Footer -->
        <div class="text-center text-muted pb-4">
            <hr>
            <p>
                <i class="bi bi-book"></i> Read-a-Thon Reporting System<br>
                <small>Built with Flask & Bootstrap | Data stored locally on your Mac</small>
            </p>
            <p>
                <a href="/" class="btn btn-outline-primary btn-sm">
                    <i class="bi bi-house"></i> Back to Dashboard
                </a>
            </p>
        </div>
    </div>
</div>
{% endblock %}
